/*
	Dimension by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
*/
const translations = {
	en: {
		suites: "Suites",
		experience: "Experience",
		gallery: "Gallery",
		contact: "Contact Us",
		introText: "Enjoy elegance and breathtaking sea views from our luxury suites, in the serene beauty of Kantouni, Kalymnos.",
		sendMessage: "Send Message",
		reset: "Reset",
		// Experience
		climbingDescription:"Kalymnos is a climber’s paradise, world-renowned for its rugged limestone cliffs and an endless variety of routes suitable for both beginners and seasoned pros. With over 3,400 bolted climbing routes, the island offers breathtaking panoramas of the Aegean Sea from every height. Whether you're tackling a steep overhang or enjoying a sunset climb on a seaside crag, the combination of sport and scenery makes each ascent unforgettable. Professional climbing schools and gear rentals are available year-round, ensuring a safe and thrilling adventure.",
		crystalClearWaters: "The island is surrounded by pristine, turquoise waters that invite you to dive in and explore. Swim in secluded coves, snorkel through vibrant underwater ecosystems, or dive into sea caves filled with marine life. Kalymnos also boasts several organized beaches like Masouri and Kantouni, perfect for families or those seeking comfort. If you're feeling adventurous, hop on a boat tour to nearby islets like Telendos or Pserimos for a private beach experience you’ll never forget.",
		spongeDivingHeritage: "Kalymnos has a rich and unique history as the island of sponge divers. For centuries, its brave divers journeyed into the deep sea to collect natural sponges — a tradition that shaped the island's economy, culture, and identity. Visit the Sponge Factory Museum in Pothia to see authentic diving suits, tools, and hear incredible stories of this ancient craft. Many family-run sponge shops still sell high-quality natural sponges, making for a meaningful and sustainable souvenir.",
		localCuisine: "Kalymnos is not just about stunning views and thrilling adventures; it’s also a culinary delight. The island's cuisine is a blend of traditional Greek flavors with a local twist. Enjoy fresh seafood caught daily, homemade pasta, and local cheeses. Don’t miss out on the island's famous 'Kavourmas', a unique dish made from local crab. Pair your meal with a glass of local wine or ouzo for an authentic dining experience. Many tavernas offer stunning sea views, making your meal even more special."

	},
	gr: {
		suites: "Σουίτες",
		experience: "Εμπειρία",
		gallery: "Γκαλερί",
		contact: "Επικοινωνια",
		introText: "Απολαύστε κομψότητα και μαγευτική θέα στη θάλασσα από τις πολυτελείς σουίτες μας, στην ήρεμη ομορφιά του Καντουνίου, Καλύμνου.",
		sendMessage: "Αποστολή Μηνύματος",
		reset: "Επαναφορά",
		// Experience
		climbingDescription:"Η Κάλυμνος είναι ένας παράδεισος για τους αναρριχητές, παγκοσμίως γνωστή για τους τραχείς ασβεστολιθικούς βράχους της και την ατελείωτη ποικιλία διαδρομών κατάλληλων τόσο για αρχάριους όσο και για έμπειρους επαγγελματίες. Με πάνω από 3.400 διαδρομές, το νησί προσφέρει εκπληκτική θέα στο Αιγαίο από κάθε ύψος. Είτε αντιμετωπίζετε μια απότομη κλίση είτε απολαμβάνετε μια αναρρίχηση στο ηλιοβασίλεμα, ο συνδυασμός αθλητισμού και τοπίου κάνει κάθε ανάβαση αξέχαστη. Επαγγελματικές σχολές αναρρίχησης και ενοικιάσεις εξοπλισμού είναι διαθέσιμες όλο το χρόνο, εξασφαλίζοντας μια ασφαλή και συναρπαστική περιπέτεια.",
		crystalClearWaters: "Το νησί περιβάλλεται από κρυστάλλινα, τιρκουάζ νερά που σας προσκαλούν να βουτήξετε και να εξερευνήσετε. Κολυμπήστε σε απομονωμένους όρμους, κάντε snorkeling μέσα από ζωντανά υποβρύχια οικοσυστήματα ή βουτήξτε σε θαλάσσιες σπηλιές γεμάτες θαλάσσια ζωή. Η Κάλυμνος διαθέτει επίσης πολλές οργανωμένες παραλίες όπως η Μασούρη και το Καντούνι, ιδανικές για οικογένειες ή όσους αναζητούν άνεση. Αν νιώθετε περιπετειώδεις, κάντε μια εκδρομή με σκάφος σε κοντινές νησίδες όπως η Τέλενδος ή η Ψέριμος για μια ιδιωτική παραλία που δεν θα ξεχάσετε ποτέ.",
		spongeDivingHeritage: "Η Κάλυμνος έχει μια πλούσια και μοναδική ιστορία ως το νησί των σφουγγαράδων. Για αιώνες, οι γενναίοι δύτες του συλλέγουν φυσικά σφουγγάρια από τη θάλασσα - μια παράδοση που διαμόρφωσε την οικονομία, τον πολιτισμό και την ταυτότητα του νησιού. Επισκεφθείτε το Μουσείο Σφουγγαριών στην Πόθια για να δείτε αυθεντικές στολές κατάδυσης, εργαλεία και να ακούσετε απίστευτες ιστορίες αυτής της αρχαίας τέχνης. Πολλά οικογενειακά καταστήματα σφουγγαριών πωλούν ακόμα υψηλής ποιότητας φυσικά σφουγγάρια, κάνοντάς τα ένα νόημα και βιώσιμο σουβενίρ.",
		localCuisine: "Η Κάλυμνος δεν είναι μόνο για εκπληκτική θέα και συναρπαστικές περιπέτειες, αλλά και για γαστρονομικές απολαύσεις. Η κουζίνα του νησιού είναι ένα μείγμα παραδοσιακών ελληνικών γεύσεων με τοπική πινελιά. Απολαύστε φρέσκα θαλασσινά που αλιεύονται καθημερινά, σπιτικά ζυμαρικά και τοπικά τυριά. Μην χάσετε το διάσημο 'Καβούρμα' του νησιού, ένα μοναδικό πιάτο φτιαγμένο από τοπικό καβούρι. Συνοδέψτε το γεύμα σας με ένα ποτήρι τοπικό κρασί ή ούζο για μια αυθεντική γευστική εμπειρία. Πολλές ταβέρνες προσφέρουν εκπληκτική θέα στη θάλασσα, κάνοντάς το γεύμα σας ακόμα πιο ξεχωριστό."

	},
};

const switchLanguage = (lang) => {
	document.querySelector("nav ul li:nth-child(1) a").textContent = translations[lang].suites;
	document.querySelector("nav ul li:nth-child(2) a").textContent = translations[lang].experience;
	document.querySelector("nav ul li:nth-child(3) a").textContent = translations[lang].gallery;
	document.querySelector("nav ul li:nth-child(4) a").textContent = translations[lang].contact;
	document.querySelector("#header .content .inner p").textContent = translations[lang].introText;
	document.querySelector("input[type='submit']").value = translations[lang].sendMessage;
	document.querySelector("input[type='reset']").value = translations[lang].reset;
	// Experience
	document.querySelector("#climbing-description").textContent = translations[lang].climbingDescription;
	document.querySelector("#crystal-clear-waters").textContent = translations[lang].crystalClearWaters;
	document.querySelector("#sponge-diving-heritage").textContent = translations[lang].spongeDivingHeritage;
	document.querySelector("#local-cuisine").textContent = translations[lang].localCuisine;
};

document.getElementById("btn-en").addEventListener("click", () => switchLanguage("en"));
document.getElementById("btn-gr").addEventListener("click", () => switchLanguage("gr"));
(function($) {

	var	$window = $(window),
		$body = $('body'),
		$wrapper = $('#wrapper'),
		$header = $('#header'),
		$footer = $('#footer'),
		$main = $('#main'),
		$main_articles = $main.children('article');

	// Breakpoints.
		breakpoints({
			xlarge:   [ '1281px',  '1680px' ],
			large:    [ '981px',   '1280px' ],
			medium:   [ '737px',   '980px'  ],
			small:    [ '481px',   '736px'  ],
			xsmall:   [ '361px',   '480px'  ],
			xxsmall:  [ null,      '360px'  ]
		});

	// Play initial animations on page load.
		$window.on('load', function() {
			window.setTimeout(function() {
				$body.removeClass('is-preload');
			}, 100);
		});

	// Fix: Flexbox min-height bug on IE.
		if (browser.name == 'ie') {

			var flexboxFixTimeoutId;

			$window.on('resize.flexbox-fix', function() {

				clearTimeout(flexboxFixTimeoutId);

				flexboxFixTimeoutId = setTimeout(function() {

					if ($wrapper.prop('scrollHeight') > $window.height())
						$wrapper.css('height', 'auto');
					else
						$wrapper.css('height', '100vh');

				}, 250);

			}).triggerHandler('resize.flexbox-fix');

		}

	// Nav.
		var $nav = $header.children('nav'),
			$nav_li = $nav.find('li');

		// Add "middle" alignment classes if we're dealing with an even number of items.
			if ($nav_li.length % 2 == 0) {

				$nav.addClass('use-middle');
				$nav_li.eq( ($nav_li.length / 2) ).addClass('is-middle');

			}

	// Main.
		var	delay = 325,
			locked = false;

		// Methods.
			$main._show = function(id, initial) {

				var $article = $main_articles.filter('#' + id);

				// No such article? Bail.
					if ($article.length == 0)
						return;

				// Handle lock.

					// Already locked? Speed through "show" steps w/o delays.
						if (locked || (typeof initial != 'undefined' && initial === true)) {

							// Mark as switching.
								$body.addClass('is-switching');

							// Mark as visible.
								$body.addClass('is-article-visible');

							// Deactivate all articles (just in case one's already active).
								$main_articles.removeClass('active');

							// Hide header, footer.
								$header.hide();
								$footer.hide();

							// Show main, article.
								$main.show();
								$article.show();

							// Activate article.
								$article.addClass('active');

							// Unlock.
								locked = false;

							// Unmark as switching.
								setTimeout(function() {
									$body.removeClass('is-switching');
								}, (initial ? 1000 : 0));

							return;

						}

					// Lock.
						locked = true;

				// Article already visible? Just swap articles.
					if ($body.hasClass('is-article-visible')) {

						// Deactivate current article.
							var $currentArticle = $main_articles.filter('.active');

							$currentArticle.removeClass('active');

						// Show article.
							setTimeout(function() {

								// Hide current article.
									$currentArticle.hide();

								// Show article.
									$article.show();

								// Activate article.
									setTimeout(function() {

										$article.addClass('active');

										// Window stuff.
											$window
												.scrollTop(0)
												.triggerHandler('resize.flexbox-fix');

										// Unlock.
											setTimeout(function() {
												locked = false;
											}, delay);

									}, 25);

							}, delay);

					}

				// Otherwise, handle as normal.
					else {

						// Mark as visible.
							$body
								.addClass('is-article-visible');

						// Show article.
							setTimeout(function() {

								// Hide header, footer.
									$header.hide();
									$footer.hide();

								// Show main, article.
									$main.show();
									$article.show();

								// Activate article.
									setTimeout(function() {

										$article.addClass('active');

										// Window stuff.
											$window
												.scrollTop(0)
												.triggerHandler('resize.flexbox-fix');

										// Unlock.
											setTimeout(function() {
												locked = false;
											}, delay);

									}, 25);

							}, delay);

					}

			};

			$main._hide = function(addState) {

				var $article = $main_articles.filter('.active');

				// Article not visible? Bail.
					if (!$body.hasClass('is-article-visible'))
						return;

				// Add state?
					if (typeof addState != 'undefined'
					&&	addState === true)
						history.pushState(null, null, '#');

				// Handle lock.

					// Already locked? Speed through "hide" steps w/o delays.
						if (locked) {

							// Mark as switching.
								$body.addClass('is-switching');

							// Deactivate article.
								$article.removeClass('active');

							// Hide article, main.
								$article.hide();
								$main.hide();

							// Show footer, header.
								$footer.show();
								$header.show();

							// Unmark as visible.
								$body.removeClass('is-article-visible');

							// Unlock.
								locked = false;

							// Unmark as switching.
								$body.removeClass('is-switching');

							// Window stuff.
								$window
									.scrollTop(0)
									.triggerHandler('resize.flexbox-fix');

							return;

						}

					// Lock.
						locked = true;

				// Deactivate article.
					$article.removeClass('active');

				// Hide article.
					setTimeout(function() {

						// Hide article, main.
							$article.hide();
							$main.hide();

						// Show footer, header.
							$footer.show();
							$header.show();

						// Unmark as visible.
							setTimeout(function() {

								$body.removeClass('is-article-visible');

								// Window stuff.
									$window
										.scrollTop(0)
										.triggerHandler('resize.flexbox-fix');

								// Unlock.
									setTimeout(function() {
										locked = false;
									}, delay);

							}, 25);

					}, delay);


			};

		// Articles.
			$main_articles.each(function() {

				var $this = $(this);

				// Close.
					$('<div class="close">Close</div>')
						.appendTo($this)
						.on('click', function() {
							location.hash = '';
						});

				// Prevent clicks from inside article from bubbling.
					$this.on('click', function(event) {
						event.stopPropagation();
					});

			});

		// Events.
			$body.on('click', function(event) {

				// Article visible? Hide.
					if ($body.hasClass('is-article-visible'))
						$main._hide(true);

			});

			$window.on('keyup', function(event) {

				switch (event.keyCode) {

					case 27:

						// Article visible? Hide.
							if ($body.hasClass('is-article-visible'))
								$main._hide(true);

						break;

					default:
						break;

				}

			});

			$window.on('hashchange', function(event) {

				// Empty hash?
					if (location.hash == ''
					||	location.hash == '#') {

						// Prevent default.
							event.preventDefault();
							event.stopPropagation();

						// Hide.
							$main._hide();

					}

				// Otherwise, check for a matching article.
					else if ($main_articles.filter(location.hash).length > 0) {

						// Prevent default.
							event.preventDefault();
							event.stopPropagation();

						// Show article.
							$main._show(location.hash.substr(1));

					}

			});

		// Scroll restoration.
		// This prevents the page from scrolling back to the top on a hashchange.
			if ('scrollRestoration' in history)
				history.scrollRestoration = 'manual';
			else {

				var	oldScrollPos = 0,
					scrollPos = 0,
					$htmlbody = $('html,body');

				$window
					.on('scroll', function() {

						oldScrollPos = scrollPos;
						scrollPos = $htmlbody.scrollTop();

					})
					.on('hashchange', function() {
						$window.scrollTop(oldScrollPos);
					});

			}

		// Initialize.

			// Hide main, articles.
				$main.hide();
				$main_articles.hide();

			// Initial article.
				if (location.hash != ''
				&&	location.hash != '#')
					$window.on('load', function() {
						$main._show(location.hash.substr(1), true);
					});

})(jQuery);